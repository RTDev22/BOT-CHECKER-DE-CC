const timestamp = require('../Timestamp/timestamp.js');

function keyVal(num, tempo, dias) {
    if(!tempo) tempo = 'Dia'
    if(!dias) dias = 1
    if(!num || isNaN(num)) return 'Você Precisa Colocar Respectivamente As Coisas, Exemplo: unde.keyVal(4, "Dia", 5) Sendo o Primeiro Número O Número De Pares (Até 10), O Segundo É O Tempo Determinado(Pode Ser: Segundo, Minuto, Hora, Dia, Semana, Mês ou Ano) E O Terceiro A Quantidade De Segundos, Minutos, Horas, Dias, Semanas, Meses Ou Anos'
    if(num > 10 || num < 1) num = 4
    var ids = '';
    const numb = () => ~~(Math.random() * 9) + 1
    const id = () => Math.floor((numb() + Math.random()) * 0x10000)
      .toString(16).toUpperCase();
    if(num === 1) {ids = `${id()}`} else
    if(num === 2) {ids = `${id()}-${id()}`} else
    if(num === 3) {ids = `${id()}-${id()}-${id()}`} else
    if(num === 4) {ids = `${id()}-${id()}-${id()}-${id()}`} else
    if(num === 5) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}`} else
    if(num === 6) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}-${id()}`} else
    if(num === 7) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}`} else
    if(num === 8) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}`} else
    if(num === 9) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}`} else
    if(num === 10) {ids = `${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}-${id()}`}
    const result = { 'key': ids, 'createdAt': timestamp().now(), 'endAt': timestamp().add(tempo, dias)}
    return result
  }

  module.exports = keyVal